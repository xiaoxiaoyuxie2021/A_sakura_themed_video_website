<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<title>丝滑樱花视频</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
<style>
:root{--sakura:#ffd1dc;--text:#333;--gap:10px;--radius:8px}
*{box-sizing:border-box;margin:0;padding:0;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Arial}
body{background:#fff url("image/bkg/bkg1.jpg") center/cover no-repeat fixed !important;overflow:hidden}
/* 圆角玻璃卡片 */
.glass{
  position:fixed;
  inset:15px;
  background:rgba(255,255,255,.40);
  border-radius:20px;
  box-shadow:0 4px 20px rgba(0,0,0,.15);
  display:flex;
  flex-direction:column;
  overflow:hidden;
}

/* ===== 高级顶部菜单 ===== */
header{
  height:52px;
  background:rgba(255,255,255,.25);
  backdrop-filter:blur(10px);
  border-bottom:1px solid rgba(255,255,255,.4);
  display:flex;
  align-items:center;
  padding:0 20px;
  border-radius:0 0 16px 16px;   /* 圆角 */
}
.logo{font-size:20px;font-weight:bold;color:var(--sakura);margin-right:auto;letter-spacing:1px}

nav{display:flex;gap:8px}
nav a{
  position:relative;
  display:flex;
  align-items:center;
  gap:6px;
  padding:8px 14px;
  font-size:14px;
  color:var(--text);
  text-decoration:none;
  border-radius:12px;                 /* 圆角按钮 */
  transition:background .3s, color .3s;
}
nav a::before{                        /* 图标 */
  content:"";
  width:16px;
  height:16px;
  background:currentColor;
  mask-size:contain;
  mask-repeat:no-repeat;
}
/* 图标内容（Unicode 或 SVG）*/
nav a:nth-child(1)::before{mask-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>');}
nav a:nth-child(2)::before{mask-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/></svg>');}
nav a:nth-child(3)::before{mask-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>');}
nav a:nth-child(4)::before{mask-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></svg>');}
/* 新增用户图标样式 ↓↓↓ */
nav a:nth-child(5)::before{mask-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></svg>');}

/* 悬停动画 */
nav a:hover{background:rgba(255,255,255,.4);color:var(--sakora);}
nav a::after{                       /* 下划线指示器 */
  content:"";
  position:absolute;
  bottom:4px;
  left:50%;
  width:0;
  height:2px;
  background:var(--sakura);
  transition:width .3s,left .3s;
}
nav a:hover::after{width:100%;left:0;}

/* 当前页高亮（可选 JS 控制） */
nav a.active{background:rgba(255,255,255,.5);color:var(--sakura);}
nav a.active::after{width:100%;left:0;}


/* 紧凑网格 */
main{flex:1;padding:8px;overflow-y:auto}
.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(140px,1fr));gap:6px}
.card{background:rgba(255,255,255,.7);border:1px solid rgba(255,255,255,.9);border-radius:6px;overflow:hidden;cursor:pointer;transition:transform .2s}
.card:hover{transform:scale(1.02)}
.card img{width:100%;height:80px;object-fit:cover}
.card-body{padding:4px 5px}
.card-title{font-size:12px;line-height:1.2;margin-bottom:3px}
.card-info{font-size:10px;opacity:.7}

/* 播放弹层 */
#player{position:fixed;inset:15px;background:rgba(0,0,0,.65);z-index:10000;display:none;align-items:center;justify-content:center;border-radius:20px}
#player video{width:90%;max-width:800px;border-radius:12px}
.close{position:absolute;top:10px;right:15px;font-size:24px;cursor:pointer;color:#fff}

/* 轻量樱花 */
.sakura{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:9999;will-change: transform; transform: translateZ(0);}

/* ===== 新增的用户菜单样式放在这里 ===== */
.user-menu{position:relative;}
.user-dropdown{position:absolute;top:100%;right:0;width:200px;background:#fff;border-radius:8px;box-shadow:0 4px 12px rgba(0,0,0,0.15);padding:12px;margin-top:8px;opacity:0;visibility:hidden;transform:translateY(-10px);transition:all 0.3s ease;z-index:100;}
.user-menu:hover .user-dropdown{opacity:1;visibility:visible;transform:translateY(0);}
.user-dropdown::before{content:'';position:absolute;top:-6px;right:20px;width:12px;height:12px;background:#fff;transform:rotate(45deg);box-shadow:-4px -4px 8px rgba(0,0,0,0.05);}
.user-links{display:flex;flex-direction:row;gap:10px;margin-bottom:12px;justify-content:center;}
.user-links a{display:block;padding:8px 16px;color:#333;text-decoration:none;border-radius:6px;transition:background 0.2s;font-size:14px;}
.user-links a:hover{background:#f5f5f5;}
.user-promo{padding:10px;background:#f8f9fa;border-radius:6px;font-size:12px;color:#666;text-align:center;}
.user-promo strong{color:var(--sakura);}
</style>
</head>
<body>
<canvas class="sakura" id="sakura"></canvas>

<div class="glass">
  <header>
    <div class="logo">樱花视频</div>
    <nav><a href="#home">首页</a><a href="#cat">分类</a><a href="#rank">排行</a><a href="#up">上传</a><a href="#user" class="user-menu">用户<div class="user-dropdown"><div class="user-links"><a href="#login">登录</a><a href="#register">注册</a></div><div class="user-promo">注册账号，畅享更多精彩内容！</div></div></a></nav>
  </header>
  <main>
    <div class="grid" id="grid"></div>
  </main>
</div>

<div id="player" onclick="closePlayer()">
  <span class="close">✕</span>
  <video id="videoPlayer" controls autoplay></video>
</div>

<script>
/* ===== 1. 视频数据 ===== */
const videos = [
  {title:"樱花隧道",thumb:"https://source.unsplash.com/random/140x80?sakura",url:"https://www.w3schools.com/html/mov_bbb.mp4",plays:"2.3万"},
  {title:"春日序曲",thumb:"https://source.unsplash.com/random/140x80?spring",url:"https://www.w3schools.com/html/mov_bbb.mp4",plays:"5.1万"},
];

/* ===== 2. 渲染 ===== */
document.getElementById('grid').innerHTML = videos.map(v=>`
  <div class="card" onclick="play('${v.url}')">
    <img src="${v.thumb}" alt="封面">
    <div class="card-body">
      <div class="card-title">${v.title}</div>
      <div class="card-info">${v.plays}播放</div>
    </div>
  </div>`).join('');

/* ===== 3. 播放控制 ===== */
function play(url){
  const player = document.getElementById('player');
  const vp = document.getElementById('videoPlayer');
  vp.src = url;
  player.style.display = 'flex';
}
function closePlayer(){
  document.getElementById('player').style.display = 'none';
  document.getElementById('videoPlayer').pause();
}

/* ===== 4. 轻量樱花 ===== */
(function(){
  const canvas = document.getElementById('sakura');
  const ctx = canvas.getContext('2d');
  function resize(){ canvas.width = innerWidth; canvas.height = innerHeight; }
  window.addEventListener('resize', resize); resize();

  const petals = [];
  const petalCount = 18;               // 减半
  const colors = ['#ffeef8','#ffd1dc','#ffb7c5','#ff85a2'];
  class Petal {
    constructor(){
      this.x = Math.random() * canvas.width;
      this.y = Math.random() * canvas.height;
      this.r = Math.random() * 8 + 4;
      this.speed = Math.random() * 0.8 + 0.3;
      this.color = colors[Math.floor(Math.random()*colors.length)];
      this.tilt = Math.random() * 10 - 10;
    }
    update(){
      this.y += this.speed;
      this.tilt += 0.04;
      this.x += Math.sin(this.tilt) * 0.3;
      if (this.y > canvas.height) { this.y = -20; this.x = Math.random() * canvas.width; }
    }
    draw(){
      ctx.save();
      ctx.translate(this.x, this.y);
      ctx.rotate(this.tilt);
      ctx.globalAlpha = 0.6;
      ctx.fillStyle = this.color;
      ctx.beginPath();
      ctx.arc(0,0,this.r/2,0,Math.PI*2);
      ctx.fill();
      ctx.restore();
    }
  }
  for(let i=0;i<petalCount;i++) petals.push(new Petal());

  function animate(){
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    petals.forEach(p=>{p.update();p.draw();});
    requestAnimationFrame(animate);
  }
  animate();
})();
</script>
</body>
</html>

<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<link rel="icon" href="resource/pic/ico/logo.png" type="image/png">
<title>首页 - ECG</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
<link rel="stylesheet" href="css/base.css">
<link rel="stylesheet" href="css/layout.css">
<link rel="stylesheet" href="css/component.css">
<link rel="stylesheet" href="css/effect.css">
<link rel="stylesheet" href="css/promote1.css">
<link rel="stylesheet" href="css/theme.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
<canvas class="sakura" id="sakura"></canvas>
<div class="glass">
  <header>
    <div class="logo">ECG</div>
    <div class="header-search">
      <div class="search-container">
        <input type="search" id="search-input" placeholder="搜索视频内容...">
        <!-- 添加搜索按钮 -->
        <button class="search-btn" id="searchBtn">
          <i class="fas fa-search"></i>
        </button>
      </div>
      <button class="refresh-btn" id="refresh-btn">
        <i class="fas fa-sync-alt"></i>
        <span>刷新</span>
      </button>
    </div>
    <div class="promo-modal" id="promoModal">
    <div class="promo-content">
    <div class="promo-header">
      <h3>🧨 新年活动</h3>
    </div>
    <div class="promo-body">
      <img src="" alt="新年活动" class="promo-image">
      <p>上传新年主题视频参与评选，赢取限定周边和会员特权！活动截止至N月N日，快来分享你的春日美景吧~</p>
    </div>
    <div class="promo-footer">
      <button class="promo-detail">查看详情</button>
      <button class="promo-close" id="promoClose">关闭</button>
    </div>
  </div>
</div>
    <nav>
      <div class="nav-item category-menu">
        <div class="category-link">分类</div>
        <div class="dropdown category-dropdown"></div>
      </div>
       <a href="rank.html" class="nav-item rank-link">排行</a>
      <div class="nav-item upload-menu">
       <a href="upload.html" class="upload-link">上传</a>
       <div class="dropdown upload-dropdown">
          <div class="upload-box">
            <input type="file" id="fileInput" accept="video/*" style="display: none;">
            <button id="selectFileBtn" class="upload-btn">选择本地文件</button>
            <div class="upload-tips">或 Ctrl+V 粘贴文件</div>
          </div>
        </div>
      </div>
 <!-- 添加设置按钮 -->
  <div class="nav-item setting-menu">
    <a href="settings.html" class="nav-item setting-link">
  <i class="fas fa-cog"></i>
  <span>设置</span>
  </a>
    <div class="dropdown setting-dropdown">
      <a href="#" class="setting-item" id="themeSetting">
        <i class="fas fa-palette"></i> 主题
      </a>
      <div class="setting-divider"></div>
      <a href="aboutus.html" class="setting-item" id="aboutSetting">
        <i class="fas fa-info-circle"></i> 关于我们
      </a>
      <a href="help.html" class="setting-item" id="helpSetting">
        <i class="fas fa-question-circle"></i> 帮助中心
      </a>
    </div>
  </div>
      <div class="nav-item user-menu" id="userMenu">
        <div class="user-link">用户</div>
        <div class="dropdown user-dropdown">
          <div class="user-promo">
            点击用户头像，畅享更多精彩内容！
          </div>
        </div>
      </div>
    </nav>
  </header>
  
  <main>
    <!-- 公告横幅 -->
    <div class="announcement-banner">
      <img src="resource/pic/announcement_banner/2025.12.28.jpg" alt="首页公告">
    </div>

    <!-- 视频容器 -->
    <div class="grid" id="grid"></div>

    <!-- 统计区域：移到main内、视频容器下方 -->
    <footer class="stats-footer">
      <div class="stats-container">
        <div class="stats-item">
          <i class="fas fa-eye stats-icon"></i>
          <span class="stats-label">总访问人次</span>
          <span class="stats-value" id="totalVisits">125,389</span>
        </div>
        <div class="stats-item">
          <i class="fas fa-users stats-icon"></i>
          <span class="stats-label">当前在线</span>
          <span class="stats-value" id="onlineUsers">42</span>
        </div>
      </div>
    </footer>
  </main>
</div>

<div class="modal-overlay" id="authModal">
  <div class="auth-modal">
    <div class="auth-left-section">
      <div class="auth-logo">
        <img src="resource/pic/ico/logo.png" alt="ECG Logo">
      </div>
      <div class="auth-description">
        <h2>欢迎来到ECG</h2>
        <p>发现更多精彩视频内容</p>
      </div>
    </div>
    <div class="auth-right-section">
      <div class="modal-close" id="modalClose">×</div>
      <div class="auth-tabs">
        <div class="auth-tab active" data-tab="login">登录</div>
        <div class="auth-tab" data-tab="register">注册</div>
      </div>
      <div class="auth-form login-form active">
        <div class="form-group">
          <label class="form-label">用户名</label>
          <input type="text" class="form-input" id="loginUsername" placeholder="请输入用户名">
        </div>
        <div class="form-group">
          <label class="form-label">密码</label>
          <input type="password" class="form-input" id="loginPassword" placeholder="请输入密码">
        </div>
        <button class="auth-btn" id="loginBtn">登录</button>
      </div>
      <!-- 注册表单暂时隐藏，因为我们只允许特定账号登录 -->
      <div class="auth-form register-form" style="display: none;">
        <div class="form-group">
          <label class="form-label">手机号</label>
          <input type="text" class="form-input" placeholder="请输入手机号">
        </div>
        <div class="form-group">
          <label class="form-label">验证码</label>
          <input type="text" class="form-input" placeholder="请输入验证码">
        </div>
        <button class="auth-btn">注册</button>
      </div>
    </div>
  </div>
</div>

<!-- 背景音乐 -->
<audio id="bgMusic" loop preload="metadata">
  <source src="resource/audio/test/*.mp3" type="audio/mpeg">
</audio>

<!-- 旋转圆形音乐播放器 -->
<div class="floating-music-player" id="floatingMusicPlayer">
  <div class="music-player-container" id="musicPlayerContainer">
    <!-- 旋转圆形封面 -->
    <div class="music-disc" id="musicDisc">
      <img src="resource/pic/audio-thumbnail.jpg" alt="音乐封面" class="music-cover" id="musicCover">
      <div class="music-center-dot"></div>
    </div>
    
    <!-- 播放/暂停按钮 -->
    <div class="mini-play-btn" id="miniPlayBtn">
      <i class="fas fa-play"></i>
    </div>
  </div>
  
  <!-- 展开的矩形播放器 -->
  <div class="expanded-player" id="expandedPlayer">
    <div class="player-header">
      <div class="player-cover">
        <img src="resource/pic/audio-thumbnail.jpg" alt="音乐封面" class="player-cover-img">
      </div>
      <div class="player-info">
        <div class="music-title" id="musicTitle">大哉乾元</div>
        <div class="music-artist" id="musicArtist">洛天依</div>
      </div>
      <div class="player-controls">
        <button class="player-play-btn" id="playerPlayBtn">
          <i class="fas fa-pause" id="playerPlayIcon"></i>
        </button>
        <button class="player-close" id="playerCloseBtn">
          <i class="fas fa-times"></i>
        </button>
      </div>
    </div>
    <div class="player-progress">
      <input type="range" class="progress-bar" id="progressBar" value="0" min="0" max="100">
      <div class="time-info">
        <span id="currentTime">00:00</span>
        <span id="duration">00:00</span>
      </div>
    </div>
  </div>
</div>

<!-- 音乐播放器教程提示 -->
<div class="tutorial-tip" id="tutorialTip">
  <div class="tutorial-content">
    <p>🌸 点击圆形音乐图标可展开播放器</p>
    <p>🎵 再次点击封面可收起播放器</p>
    <button class="tutorial-close" id="tutorialClose">知道了</button>
  </div>
</div>

<script src="js/data.js"></script>
<script src="js/render.js"></script>
<script src="js/function.js"></script>
<script src="js/sakura.js"></script>
<script src="js/promote1.js"></script>
<script src="js/theme.js"></script>
<script src="js/base.js"></script>

</body>
</html>